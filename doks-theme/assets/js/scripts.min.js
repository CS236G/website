!function(o){"use strict";o.fn.reduce=function(n,e){var r=this,l=e;return r.each(function(e,t){l=n.call(t,l,t,e,r)}),l},o(":header[id]").each(function(){var e=o(this);e.html('<a href="#'+e.attr("id")+'" class="title-anchor-link">#</a> '+e.html())});function n(e,t){if(!t.$el.length||!1===t.level)return e;if(e.length<1)return[t];var n=e[e.length-1].level;return t.level>n?e[e.length-1].childrens.push(t):e.push(t),e}var e=o(":header[id]").reduce(function(e,t){var n,r,l={childrens:[]};return l.$el=o(t),l.level=(n=l.$el,!(!(r=n.prop("tagName").toLowerCase())||-1===["h1","h2","h3","h4","h5","h6"].indexOf(r))&&parseInt(r.replace("h",""),10)),l.$el.length&&!1!==l.level&&e.push(l),e},[]),r=function(e){var t;for(e=e.reduce(n,[]),t=0;t<e.length;t+=1)e[t].childrens&&e[t].childrens.length&&(e[t].childrens=r(e[t].childrens));return e},i=function(e,t){var n,r,l=o("<ul></ul>");for(l.addClass("level-"+e[0].level),!0===t&&l.addClass("nav"),n=0;n<e.length;n+=1)(r=o("<li></li>")).append('<a href="#'+e[n].$el.attr("id")+'">'+e[n].$el.text().replace(/^#\ /,"")+"</a>"),e[n].childrens&&e[n].childrens.length&&(r.append(i(e[n].childrens)),r.addClass("has-submenu")),l.append(r);return l};e.length&&(e=r(e),i(e,!0).appendTo(".js-sections")),o(".js-smooth-scroll").click(function(){return o("html, body").animate({scrollTop:o(o(this).attr("href")).offset().top},1200),!1});function t(){o(".sections-list").css("width",o(".sections-list-wrapper").width())}t(),o(window).on("resize",t),o(window).on("load",function(){o(".js-affix").affix({offset:{top:function(){return console.log(o(".hero-subheader").outerHeight(!0)),console.log(o(".frontpage-gif").outerHeight(!0)),this.top=o(".hero-subheader").outerHeight(!0)+o(".frontpage-gif").outerHeight(!0)},bottom:function(){return this.bottom=o(".js-footer-area").outerHeight(!0)+80}}})}),o(".offcanvas-toggle").on("click",function(){o("body").toggleClass("offcanvas-expanded")})}(jQuery);